
<html>
    <title>170204025(Part B)</title>
    <canvas id="webglcanvas" width="950" height="950"></canvas>
    
    <script>
    
        var canvas = document.getElementById("webglcanvas"); 
        var  gl = canvas.getContext("webgl");
        
    
        var vertexShaderSource =
           `attribute vec3 a_coords;
            attribute vec3 a_colors;
            varying vec3 v_color;
            uniform float u_shift;
    
            void main() {
                gl_Position=vec4(a_coords.x+ u_shift, a_coords.y , a_coords.z, 1.0);
                v_color = a_colors;
            }`;
    
    
        var fragmentShaderSource =
    
           `precision mediump float;
            varying vec3 v_color;
            void main() {
                
                gl_FragColor = vec4(v_color, 1.0);
            }`;
    
        
        var vsh = gl.createShader( gl.VERTEX_SHADER );
        gl.shaderSource( vsh, vertexShaderSource );
        gl.compileShader( vsh );
        
        var fsh = gl.createShader( gl.FRAGMENT_SHADER );
        gl.shaderSource( fsh, fragmentShaderSource );
        gl.compileShader( fsh );
        
        var prog = gl.createProgram(); 
        
        gl.attachShader( prog, vsh ); 
        gl.attachShader( prog, fsh );
        gl.linkProgram( prog ); 
        gl.useProgram(prog); 
    
        var a_coords_location = gl.getAttribLocation(prog, "a_coords");
    
    
        var coords = new Float32Array( [
        -.9, -.9, .0,
        -.9, -.8, .0,
        -.8, -.9, .0,
        
        -.85, -.85, .0,
        -.85, -.75, .0,
        -.75, -.85, .0,
        
        -.8, -.8, .0,
        -.8, -.7, .0,
        -.7, -.8, .0,
        
        -.75, -.75, .0,
        -.75, -.65, .0,
        -.65, -.75, .0,
        
        -.7, -.7, .0,
        -.7, -.6, .0,
        -.6, -.7, .0,
        
        -.65, -.65, .0,
        -.65, -.55, .0,
        -.55, -.65, .0,
        
        -.6, -.6, .0,
        -.6, -.5, .0,
        -.5, -.6, .0,
        
        -.55, -.55, .0,
        -.55, -.45, .0,
        -.45, -.55, .0,
        
        -.5, -.5, .0,
        -.5, -.4, .0,
        -.4, -.5, .0,
        
        -.45, -.45, .0,
        -.45, -.35, .0,
        -.35, -.45, .0,
        
        -.4, -.4, .0,
        -.4, -.3, .0,
        -.3, -.4, .0,
        
        -.35, -.35, .0,
        -.35, -.25, .0,
        -.25, -.35, .0,
        
        -.3, -.3, .0,
        -.3, -.2, .0,
        -.2, -.3, .0,
        
        -.25, -.25, .0,
        -.25, -.15, .0,
        -.15, -.25, .0,
        
        -.2, -.2, .0,
        -.2, -.1, .0,
        -.1, -.2, .0,
        
        -.15, -.15, .0,
        -.15, -.05, .0,
        -.05, -.15, .0,
        
        -.1, -.1, .0,
        -.1, 0, .0,
        0, -.1, .0,
        
        -.05, -.05, .0,
        -.05, .05, .0,
        .05, -.05, .0,
        
        0, 0, .0,
        0, 0.1, .0,
        0.1, 0, .0,
        
        0.05, 0.05, .0,
        0.05, 0.15, .0,
        0.15, 0.05, .0,
        
        
        
            
        
                                        ]);
                                            
        var a_coords_buffer = gl.createBuffer(); 
    
        
        gl.bindBuffer(gl.ARRAY_BUFFER, a_coords_buffer); 
        gl.bufferData(gl.ARRAY_BUFFER, coords, gl.STATIC_DRAW); 
        gl.vertexAttribPointer(a_coords_location, 3, gl.FLOAT, false, 0, 0); 
        gl.enableVertexAttribArray(a_coords_location);
        
        a_colors_location = gl.getAttribLocation(prog, "a_colors");
        var u_shift_location = gl.getUniformLocation(prog, "u_shift");
        var shift = 0.0;
        gl.uniform1f(u_shift_location, shift);
        var colors = new Float32Array( [							
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,	
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,	
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,
    
        0.5, 0, 0,
        0, 0.5, 0,
        0, 0, 0.5,	
                                        
                                        ]);
        
        a_colors_buffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, a_colors_buffer);
        gl.bufferData(gl.ARRAY_BUFFER, colors, gl.STATIC_DRAW);
        gl.vertexAttribPointer(a_colors_location, 3, gl.FLOAT, false, 0, 0);
        gl.enableVertexAttribArray(a_colors_location);									
        
        gl.clearColor(1.0, 1.0, 0.9, 1.0);
        gl.clear(gl.COLOR_BUFFER_BIT);
        
        gl.drawArrays(gl.TRIANGLES,0,100);
        document.onkeydown = function ()
        {  
        shift = shift + 0.1	;
        if (shift >= 2) {
            shift = -1.0;
        }
    
        
        
        gl.uniform1f(u_shift_location, shift);
        gl.clearColor(1.0, 1.0, 0.9, 1.0);
        gl.clear(gl.COLOR_BUFFER_BIT);
        gl.drawArrays(gl.TRIANGLES,0,61);
    
        };
        
    
    </script>
    
    
    
    </html>